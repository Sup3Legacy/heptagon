const n:int = 24

fun f(i:int) returns (r:int)
let
  r = do_stuff(i);
tel

fun main () returns (r:int^n)
let
  r = map<<n>> ! (map<<n>> async<<n,1>> f (2^n));
tel
