node f(x:bool;c:bool) returns (o:bool)
let
  automaton
  state A
    var l:bool; do
    l = x when c;
    o = merge c (true -> l) (false -> false)
  until true then B
  state B
    do o = false
  end
tel


node when2(x :int; c :bool) returns (y :int)
let
  automaton
  state FirstPeriod do
    y = x when c;
    until true then Cruise
  state Cruise do
    y = x when c;
  end
tel
